#!bin/sh

test -e ssshtest || wget -q https://raw.githubusercontent.com/ryanlayer/ssshtest/master/ssshtest
. ssshtest

run test_data_proccessor python data_processor.py --matrix_dimension_1 4 --matrix_dimension_2 5 --file_name 'iris.data' --output_dir 'matrix.png'
assert_in_stdout '[[0.07630829 0.77991879 0.43840923 0.72346518 0.97798951]
 [0.53849587 0.50112046 0.07205113 0.26843898 0.4998825 ]
 [0.67923    0.80373904 0.38094113 0.06593635 0.2881456 ]
 [0.90959353 0.21338535 0.45212396 0.93120602 0.02489923]]
(149, 5)
[[0.07630828937395717, 0.7799187922401146, 0.4384092314408935, 0.7234651778309412, 0.9779895119966027], [0.5384958704104337, 0.5011204636599379, 0.07205113335976154, 0.26843898010187117, 0.49988250082555996], [0.6792299961209405, 0.8037390361043755, 0.3809411331485384, 0.06593634690590511, 0.28814559930799355], [0.9095935277196137, 0.2133853535799155, 0.4521239618176831, 0.9312060196890217, 0.024899227550348013]]'
assert_exit_code 0

run test_plotter python plotter.py --file_name 'iris.data'
assert_no_stdout 
assert_exit_code 0